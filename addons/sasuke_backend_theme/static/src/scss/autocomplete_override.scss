// 予測検索（オートコンプリート）の横幅問題を完全修正
// このファイルは最後に読み込まれるため、他のスタイルを確実に上書き

// jQuery UI Autocompleteのデフォルトスタイルを完全に上書き
.ui-widget.ui-widget-content {
    &.ui-autocomplete {
        min-width: 400px !important;
        max-width: 600px !important;
        width: auto !important;
    }
}

// グローバルなui-autocompleteスタイル
.ui-autocomplete {
    min-width: 400px !important;
    width: auto !important;
    max-width: 600px !important;
}

body .ui-autocomplete {
    min-width: 400px !important;
    width: auto !important;
    max-width: 600px !important;
    overflow: hidden !important;
    overflow-y: auto !important;
    max-height: 400px !important;
    position: absolute !important;
    z-index: 99999 !important;
    box-sizing: border-box !important;
    
    // インラインスタイルを強制的に上書き
    &[style*="width"] {
        min-width: 400px !important;
        max-width: 600px !important;
    }
}

// Odoo specific autocomplete classes
body .o-autocomplete,
body .o-autocomplete--dropdown,
body .o-autocomplete--dropdown-menu,
body .o-autocomplete-dropdown,
body .o_m2o_autocomplete_dropdown {
    min-width: 400px !important;
    max-width: 600px !important;
    width: max-content !important;
    overflow-x: hidden !important;
}

// リストビュー・ツリービューでの表示
body .o_list_view .ui-autocomplete,
body .o_tree_view .ui-autocomplete,
body table.o_list_table .ui-autocomplete,
body .o_sale_order .ui-autocomplete,
body tr .ui-autocomplete,
body td .ui-autocomplete {
    min-width: 400px !important;
    max-width: 600px !important;
}

// メニューアイテム
body .ui-autocomplete .ui-menu-item,
body .ui-autocomplete li,
body .ui-autocomplete a {
    min-width: 380px !important;
    display: block !important;
    padding: 8px 12px !important;
    box-sizing: border-box !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
}

// Many2Oneフィールドのドロップダウン
body .o_m2o_dropdown_option {
    min-width: 380px !important;
    display: block !important;
    box-sizing: border-box !important;
}

// 空のリストでも幅を維持
body .ui-autocomplete:empty {
    min-width: 400px !important;
    display: block !important;
}

// テーブル内のオートコンプリート
table .ui-autocomplete,
tbody .ui-autocomplete,
tr .ui-autocomplete,
td .ui-autocomplete,
.o_list_table .ui-autocomplete {
    min-width: 400px !important;
    width: auto !important;
    max-width: 600px !important;
}

// position:absoluteを強制
.ui-autocomplete.ui-front {
    min-width: 400px !important;
}

// フォームビューとリストビューでの特別なケース
.o_form_view .ui-autocomplete,
.o_list_view .ui-autocomplete,
.o_kanban_view .ui-autocomplete {
    min-width: 400px !important;
    width: auto !important;
}